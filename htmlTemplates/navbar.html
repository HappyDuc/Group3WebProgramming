<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item dropdown">
        <div class="dropdown open">
          <button
            class="btn btn-secondary"
            type="button"
            id="triggerId"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <i class="bi bi-list"> </i>
          </button>

          <div class="dropdown-menu" aria-labelledby="triggerId">
            <a class="dropdown-item" href="/menu.html">Menu</a>
            <a class="dropdown-item" href="#">Disabled action</a>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="flex-row-reverse">
    <a class="navbar-brand" href="/">
      <img
        src="/images/HexMexLogo.png"
        alt="Logo"
        class="d-inline-block align-text-top"
      />
    </a>
  </div>
  <script>
    $(document).ready(function () {
      // Adding hover effects
      $("#triggerId").hover(
        function () {
          $(this).addClass("dropdown-toggle");
        },
        function () {
          $(this).removeClass("dropdown-toggle");
        }
      );

      // Single dropdown logic
      $(".navbar .dropdown")
        .off("click")
        .on("click", function (e) {
          e.stopPropagation(); // Prevent the click from bubbling up

          var $dropdownMenu = $(this).find(".dropdown-menu").first();

          // Toggle dropdown visibility
          if ($dropdownMenu.is(":visible")) {
            $dropdownMenu.stop(true, true).slideUp(200);
          } else {
            $(".navbar .dropdown-menu").slideUp(200); // Close any other open dropdowns
            $dropdownMenu.stop(true, true).slideDown(200); // Open this one
          }
        });

      // Close dropdowns when clicking outside
      $(document).on("click", function () {
        $(".navbar .dropdown-menu").slideUp(200);
      });

      // Keyboard navigation for accessibility
      $(".navbar .dropdown").on("keydown", function (e) {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          $(this).trigger("click");
        }
      });
    });
  </script>
</nav>
