<!-- Navbar -->
<style>
  .dropdown button {
    margin-left: 20px;
  }
</style>
<nav class="navbar navbar-expand navbar-dark bg-dark">
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item dropdown">
        <div class="dropdown open">
          <button
            class="btn btn-secondary"
            type="button"
            id="triggerId"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <i class="bi bi-list h1"></i>
          </button>

          <div
            style="display: none"
            class="dropdown-menu"
            aria-labelledby="triggerId"
          >
            <a class="dropdown-item" href="/order">Order</a>
            <a class="dropdown-item" href="/aboutUs">About us</a>
            <a class="dropdown-item" href="/basket">Basket</a>
            <a class="dropdown-item" href="/orderLookup">Order Search</a>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="flex-row-reverse">
    <a class="navbar-brand" href="/">
      <img
        src="/public/images/HexMexLogo.png"
        alt="Logo"
        class="d-inline-block align-text-top"
        height="100px"
      />
    </a>
  </div>
  <script>
    $(document).ready(function () {
      // Adds arrow indicated when button is hovered over.
      $("#triggerId").hover(
        function () {
          $(this).addClass("dropdown-toggle");
        },
        function () {
          $(this).removeClass("dropdown-toggle");
        }
      );

      // Adds animation to the dropdown menu appearing.
      $(".navbar .dropdown")
        .off("click")
        .on("click", function (e) {
          // Stops this from affecting other elements.
          e.stopPropagation();

          // Finds the dropdown menu.
          var $dropdownMenu = $(this).find(".dropdown-menu").first();

          // Checks if the dropdown if visible, if it is then slide it up, if not then slide it down.
          if ($dropdownMenu.is(":visible")) {
            console.log("The menu is visible so is being slid up.");
            $dropdownMenu.stop(true, true).slideUp();
          } else {
            console.log("The menu is not visible so is being slid down.");
            $dropdownMenu.stop(true, true).slideDown();
            $dropdownMenu.css("display", "block");
          }
        });

      // Close dropdowns when clicking outside
      $(document).on("click", function () {
        $(".navbar .dropdown-menu").slideUp(200);
      });
    });
  </script>
</nav>
